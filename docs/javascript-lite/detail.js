webpackJsonp([2],{107:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(3),c=n(s),u=function(e){function t(){var e,r,n,o;i(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return r=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.state={shouldShow:!1},n.goTop=function(){window.scrollTo(0,0)},n.handleScroll=function(){var e=window,t=e.scrollY,r=n.state.shouldShow;t>100?r||n.setState({shouldShow:!0}):r&&n.setState({shouldShow:!1})},o=r,a(n,o)}return o(t,e),l(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){return this.state.shouldShow?c.default.createElement("div",{className:"iconfont icon-top",onClick:this.goTop},""):null}}]),t}(s.Component);t.default=u},109:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(i,a){try{var o=t[i](a),l=o.value}catch(e){return void r(e)}return o.done?void e(l):Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)})}return n("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.readPic=t.addReply=t.upsReply=t.markAllMessages=t.getMessages=t.addTopic=t.getUserData=t.getUserInfo=t.getTopic=t.getTopics=void 0;var o=r(110),l=n(o),s=r(46),c="https://cnodejs.org/api/v1",u=(0,s.createFetchJSON)(c),f=(t.getTopics=function(e){return u("/topics?"+l.default.stringify(e))},t.getTopic=function(e){return u("/topic/"+e)},function(){var e=a(regeneratorRuntime.mark(function e(t){var r,n,a,o,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/accesstoken",n={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:l.default.stringify({accesstoken:t})},e.next=4,u(r,n);case 4:if(a=e.sent,o=a.success,s=a.error_msg,c=i(a,["success","error_msg"]),o){e.next=10;break}throw new Error(s);case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}());t.getUserInfo=f;t.getUserData=function(){var e=a(regeneratorRuntime.mark(function e(t){var r,n,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("/user/"+t);case 2:if(r=e.sent,n=r.success,i=r.error_msg,a=r.data,n){e.next=8;break}throw new Error(i);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.addTopic=function(){var e=a(regeneratorRuntime.mark(function e(t){var r,n,i,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/topics",n={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:l.default.stringify(t)},e.next=4,u(r,n);case 4:if(i=e.sent,a=i.success,o=i.error_msg,s=i.topic_id,a){e.next=10;break}throw new Error(o);case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.getMessages=function(){var e=a(regeneratorRuntime.mark(function e(t){var r,n,i,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/messages?accesstoken="+t,e.next=3,u(r);case 3:if(n=e.sent,i=n.success,a=n.error_msg,o=n.data,i){e.next=9;break}throw new Error(a);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.markAllMessages=function(){var e=a(regeneratorRuntime.mark(function e(t){var r,n,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/message/mark_all",n={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:l.default.stringify({accesstoken:t})},e.next=4,u(r,n);case 4:if(i=e.sent,a=i.success){e.next=8;break}throw new Error(error_msg);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.upsReply=function(){var e=a(regeneratorRuntime.mark(function e(t){var r,n,i,a,o,s,c=t.replyId,f=t.accesstoken;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/reply/"+c+"/ups",n={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:l.default.stringify({accesstoken:f})},e.next=4,u(r,n);case 4:if(i=e.sent,a=i.success,o=i.action,s=i.error_msg,a){e.next=10;break}throw new Error(s);case 10:return e.abrupt("return",o);case 11:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.addReply=function(){var e=a(regeneratorRuntime.mark(function e(t){var r,n,i,a,o,s,c,f=t.topicId,p=t.accesstoken,h=t.content,d=t.replyId;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/topic/"+f+"/replies",n={accesstoken:p,content:h},d&&(n.reply_id=d),i={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:l.default.stringify(n)},e.next=6,u(r,i);case 6:if(a=e.sent,o=a.success,s=a.error_msg,c=a.reply_id,o){e.next=12;break}throw new Error(s);case 12:return e.abrupt("return",c);case 13:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.readPic=function(){var e=a(regeneratorRuntime.mark(function e(t){var r,n,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="http://m.yueqingwang.com/common.ashx",n={method:"POST",body:JSON.stringify({img:t})},e.next=4,fetch(r,n);case 4:return i=e.sent,e.next=7,i.text();case 7:if(a=e.sent,"qrcode error"===a){e.next=10;break}throw new Error("二维码图片不清晰");case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},115:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(i,a){try{var o=t[i](a),l=o.value}catch(e){return void r(e)}return o.done?void e(l):Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)})}return n("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=r(39),f=i(u),p=r(116),h=i(p),d=r(118),g=n(d),v=r(113),y=function(e){function t(){var e,r,n,i;o(this,t);for(var s=arguments.length,u=Array(s),f=0;f<s;f++)u[f]=arguments[f];return r=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.name="Detail",n.View=h.default,n.actions=g,n.initialState={showMenu:!1,topic:null,curReplyId:null,replyToReply:"",replyToTopic:"",suffix:'\n        <br/>\n        来自 <a class="from" href="https://github.com/Lucifier129/isomorphic-cnode">isomorphic-cnode</a>\n        '},n.methods={openMenu:v.openMenu,closeMenu:v.closeMenu,updateReplyToReply:function(e){var t=e.currentTarget,r=this.store.actions.UPDATE_FIELD,n=t.value;r({key:"replyToReply",value:n})},updateReplyToTopic:function(e){var t=e.currentTarget,r=this.store.actions.UPDATE_FIELD,n=t.value;r({key:"replyToTopic",value:n})},isLogin:function(){var e=this.store.getState(),t=e.userInfo,r=e.location;return!!t.id||(this.goTo("/login?redirect="+r.raw),!1)},upReply:function(e){var t=this,r=e.currentTarget;return a(regeneratorRuntime.mark(function e(){var n,i,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isLogin()){e.next=2;break}return e.abrupt("return");case 2:return n=t.store.actions,i=n.UPDATE_FIELD,a=n.UPS_REPLAY,o=r.getAttribute("data-id"),e.prev=4,e.next=7,a(o);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),alert(e.t0.message);case 12:case"end":return e.stop()}},e,t,[[4,9]])}))()},showReply:function(e){var t=e.currentTarget;if(this.isLogin()){var r=this.store.actions.UPDATE_FIELDS,n=this.store.getState(),i=n.curReplyId,a=n.topic,o=t.getAttribute("data-id"),l=a.replies.filter(function(e){return e.id===o}),s=c(l,1),u=s[0].author;i!==o&&r([{key:"curReplyId",value:o},{key:"replyToReply",value:"@"+u.loginname+" "}])}},addReply:function(e){var t=this,r=e.currentTarget;return a(regeneratorRuntime.mark(function e(){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isLogin()){e.next=2;break}return e.abrupt("return");case 2:return n=t.store.actions.ADD_REPLY,i=r.getAttribute("data-reply"),e.prev=4,e.next=7,n(i);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),alert(e.t0.message);case 12:case"end":return e.stop()}},e,t,[[4,9]])}))()}},i=r,l(n,i)}return s(t,e),t}(f.default);t.default=y},116:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){var t=e.state,r=e.methods,n=t.location,a=t.userInfo,s=t.showMenu,u=t.topic,h=t.curReplyId,g=t.replyToReply,y=t.replyToTopic,b=r.openMenu,k=r.closeMenu,E=r.upReply,x=r.addReply,R=r.showReply,T=r.updateReplyToReply,O=r.updateReplyToTopic;if(!u)return w;var S=((0,f.default)({"show-menu":s}),(0,f.default)(i({tag:!0},(0,p.getTabClassName)(u.tab,u.good,u.top),!0)));return c.default.createElement("div",null,c.default.createElement(d.default,{pageType:"主题",showMenu:s,needAdd:!0,fixHead:!0,openMenu:b,closeMenu:k,location:n,userInfo:a}),u&&u.title&&c.default.createElement("div",{id:"page"},c.default.createElement("h2",{className:"topic-title"},u.title),c.default.createElement("section",{className:"author-info"},c.default.createElement(v.default,{tagName:"img",className:"avatar",src:u.author.avatar_url,to:"/user/"+u.author.loginname}),c.default.createElement("div",{className:"col"},c.default.createElement("span",null,u.author.loginname),c.default.createElement("time",null,"发布于:",(0,p.getLastTimeStr)(u.create_at,!0))),c.default.createElement("div",{className:"right"},c.default.createElement("span",{className:S},(0,p.getTabStr)(u.tab,u.good,u.top)),c.default.createElement("span",{className:"name"},u.visit_count,"次浏览"))),c.default.createElement("section",{className:"markdown-body topic-content",dangerouslySetInnerHTML:{__html:u.content}}),c.default.createElement("h3",{className:"topic-reply"},c.default.createElement("strong",null,u.reply_count)," 回复"),c.default.createElement("section",{className:"reply-list"},c.default.createElement("ul",null,u.replies.map(function(e){return c.default.createElement(o,l({},e,{key:e.id,upReply:E,addReply:x,showReply:R,topicId:u.id,curReplyId:h,isUps:e.ups.indexOf(a.id)!==-1,replyContent:g,updateReplyToReply:T}))})))),c.default.createElement(m.default,null),!!a.loginname&&c.default.createElement(_.default,{replyContent:y,handleInput:O,addReply:x}))}function o(e){var t=e.id,r=e.author,n=e.create_at,i=e.ups,a=e.upReply,o=e.addReply,l=e.showReply,s=e.content,u=e.replyContent,h=e.isUps,d=e.curReplyId,g=e.updateReplyToReply,y=(0,f.default)({iconfont:!0,icon:!0,uped:h});return c.default.createElement("li",null,c.default.createElement("section",{className:"user"},c.default.createElement(v.default,{tagName:"img",className:"head",src:r.avatar_url,to:"/user/"+r.loginname}),c.default.createElement("div",{className:"info"},c.default.createElement("span",{className:"cl"},c.default.createElement("span",{className:"name"},r.loginname),c.default.createElement("span",{className:"name mt10"},c.default.createElement("span",null),"发布于:",(0,p.getLastTimeStr)(n,!0))),c.default.createElement("span",{className:"cr"},c.default.createElement("span",{className:y,onClick:a,"data-id":t},""),i.length,c.default.createElement("span",{className:"iconfont icon",onClick:l,"data-id":t},"")))),c.default.createElement("div",{className:"reply_content",dangerouslySetInnerHTML:{__html:s}}),d===t&&c.default.createElement(_.default,{replyId:t,content:u,handleInput:g,addReply:o}))}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=a;var s=r(3),c=n(s),u=r(103),f=n(u),p=r(46),h=r(102),d=n(h),g=r(105),v=n(g),y=r(107),m=n(y),b=r(117),_=n(b),w=c.default.createElement("div",{style:{height:"100%",background:"#fff"}},c.default.createElement("div",{className:"no-data"},c.default.createElement("i",{className:"iconfont icon-empty"},""),"该话题不存在!"))},117:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.hasErr,r=e.replyId,n=e.content,i=e.addReply,a=e.handleInput,l={text:!0,err:t};return o.default.createElement("section",{className:"reply"},o.default.createElement("textarea",{rows:"8",className:l,placeholder:"回复支持Markdown语法,请注意标记代码",value:n,onChange:a}),o.default.createElement("button",{className:"button",onClick:i,"data-reply":r},"确定"))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=r(3),o=n(a),l=r(103);n(l)},118:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(i,a){try{var o=t[i](a),l=o.value}catch(e){return void r(e)}return o.done?void e(l):Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)})}return n("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.UPS_REPLAY=t.ADD_REPLY=t.UPDATE_FIELDS=t.UPDATE_FIELD=t.INIT=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(109),l=r(46),s=r(119),c=(t.INIT=function(){var e=i(regeneratorRuntime.mark(function e(t){var r,n,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.location,n=r.params.topicId,e.next=4,(0,o.getTopic)(n);case 4:return i=e.sent,l=i.data,e.abrupt("return",a({},t,{topic:l}));case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),t.UPDATE_FIELD=function(e,t){var r=t.key,i=t.value;return e[r]===i?e:a({},e,n({},r,i))});t.UPDATE_FIELDS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.reduce(c,e)},t.ADD_REPLY=function(){var e=i(regeneratorRuntime.mark(function e(t,r){var i,c,u,f,p,h,d,g,v,y,m,b,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.userInfo,u=t.topic,f=t.suffix,p=t.replyToReply,h=t.replyToTopic,d=c.token,g=u.id,v=(0,l.linkUsers)(null!=r?p:h),y='<div class="markdown-text">'+s.markdown.toHTML(v)+"</div>"+f,m=(new Date).getTime(),e.next=8,(0,o.addReply)({accesstoken:d,topicId:u.id,replyId:r,content:y});case 8:return b=e.sent,_={id:b,author:{loginname:c.loginname,avatar_url:c.avatar_url},content:y,ups:[],create_at:m},e.abrupt("return",a({},t,(i={},n(i,r?"replyToReply":"replyToTopic",""),n(i,"curReplyId",null),n(i,"topic",a({},u,{replies:u.replies.concat(_)})),i)));case 11:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),t.UPS_REPLAY=function(){var e=i(regeneratorRuntime.mark(function e(t,r){var n,i,l,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.topic,i=t.userInfo,l=i.token,s=i.id,e.next=4,(0,o.upsReply)({accesstoken:l,replyId:r});case 4:return c=e.sent,u=n.replies.map(function(e){if(e.id!==r)return e;var t=e.ups;return"down"===c?t=t.filter(function(e){return e!==s}):"up"===c&&(t=t.concat(s)),a({},e,{ups:t})}),e.abrupt("return",a({},t,{topic:a({},n,{replies:u})}));case 7:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}()},119:function(e,t,r){t.markdown=r(120),t.parse=t.markdown.toHTML},120:function(e,t,r){!function(e){function t(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function n(){var e=r(121);return"Markdown.mk_block( "+e.inspect(this.toString())+", "+e.inspect(this.trailing)+", "+e.inspect(this.lineNumber)+" )"}function i(e){for(var t=0,r=-1;(r=e.indexOf("\n",r+1))!==-1;)t++;return t}function o(e,t){function r(e){this.len_after=e,this.name="close_"+t}var n=e+"_state",i="strong"==e?"em_state":"strong_state";return function(a,o){if(this[n][0]==t)return this[n].shift(),[a.length,new r(a.length-t.length)];var l=this[i].slice(),s=this[n].slice();this[n].unshift(t);var c=this.processInline(a.substr(t.length)),u=c[c.length-1];this[n].shift();if(u instanceof r){c.pop();var f=a.length-u.len_after;return[f,[e].concat(c)]}return this[i]=l,this[n]=s,[t.length,t]}}function l(e){for(var t=e.split(""),r=[""],n=!1;t.length;){var i=t.shift();switch(i){case" ":n?r[r.length-1]+=i:r.push("");break;case"'":case'"':n=!n;break;case"\\":i=t.shift();default:r[r.length-1]+=i}}return r}function s(e){return y(e)&&e.length>1&&"object"==typeof e[1]&&!y(e[1])?e[1]:void 0}function c(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function u(e){if("string"==typeof e)return c(e);var t=e.shift(),r={},n=[];for(!e.length||"object"!=typeof e[0]||e[0]instanceof Array||(r=e.shift());e.length;)n.push(u(e.shift()));var i="";for(var a in r)i+=" "+a+'="'+c(r[a])+'"';return"img"==t||"br"==t||"hr"==t?"<"+t+i+"/>":"<"+t+i+">"+n.join("")+"</"+t+">"}function f(e,t,r){var n;r=r||{};var i=e.slice(0);"function"==typeof r.preprocessTreeNode&&(i=r.preprocessTreeNode(i,t));var a=s(i);if(a){i[1]={};for(n in a)i[1][n]=a[n];a=i[1]}if("string"==typeof i)return i;switch(i[0]){case"header":i[0]="h"+i[1].level,delete i[1].level;break;case"bulletlist":i[0]="ul";break;case"numberlist":i[0]="ol";break;case"listitem":i[0]="li";break;case"para":i[0]="p";break;case"markdown":i[0]="html",a&&delete a.references;break;case"code_block":i[0]="pre",n=a?2:1;var o=["code"];o.push.apply(o,i.splice(n,i.length-n)),i[n]=o;break;case"inlinecode":i[0]="code";break;case"img":i[1].src=i[1].href,delete i[1].href;break;case"linebreak":i[0]="br";break;case"link":i[0]="a";break;case"link_ref":i[0]="a";var l=t[a.ref];if(!l)return a.original;delete a.ref,a.href=l.href,l.title&&(a.title=l.title),delete a.original;break;case"img_ref":i[0]="img";var l=t[a.ref];if(!l)return a.original;delete a.ref,a.src=l.href,l.title&&(a.title=l.title),delete a.original}if(n=1,a){for(var c in i[1]){n=2;break}1===n&&i.splice(n,1)}for(;n<i.length;++n)i[n]=f(i[n],t,r);return i}function h(e){for(var t=s(e)?2:1;t<e.length;)"string"==typeof e[t]?t+1<e.length&&"string"==typeof e[t+1]?e[t]+=e.splice(t+1,1)[0]:++t:(h(e[t]),++t)}var d=e.Markdown=function(e){switch(typeof e){case"undefined":this.dialect=d.dialects.Gruber;break;case"object":this.dialect=e;break;default:if(!(e in d.dialects))throw new Error("Unknown Markdown dialect '"+String(e)+"'");this.dialect=d.dialects[e]}this.em_state=[],this.strong_state=[],this.debug_indent=""};e.parse=function(e,t){var r=new d(t);return r.toTree(e)},e.toHTML=function(t,r,n){var i=e.toHTMLTree(t,r,n);return e.renderJsonML(i)},e.toHTMLTree=function(e,t,r){"string"==typeof e&&(e=this.parse(e,t));var n=s(e),i={};n&&n.references&&(i=n.references);var a=f(e,i,r);return h(a),a};var g=d.mk_block=function(e,r,i){1==arguments.length&&(r="\n\n");var a=new String(e);return a.trailing=r,a.inspect=n,a.toSource=t,void 0!=i&&(a.lineNumber=i),a};d.prototype.split_blocks=function(e,t){e=e.replace(/(\r\n|\n|\r)/g,"\n");var r,n=/([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,a=[],o=1;for(null!=(r=/^(\s*\n)/.exec(e))&&(o+=i(r[0]),n.lastIndex=r[0].length);null!==(r=n.exec(e));)"\n#"==r[2]&&(r[2]="\n",n.lastIndex--),a.push(g(r[1],r[2],o)),o+=i(r[0]);return a},d.prototype.processBlock=function(e,t){var r=this.dialect.block,n=r.__order__;if("__call__"in r)return r.__call__.call(this,e,t);for(var i=0;i<n.length;i++){var a=r[n[i]].call(this,e,t);if(a)return(!y(a)||a.length>0&&!y(a[0]))&&this.debug(n[i],"didn't return a proper array"),a}return[]},d.prototype.processInline=function(e){return this.dialect.inline.__call__.call(this,String(e))},d.prototype.toTree=function(e,t){var r=e instanceof Array?e:this.split_blocks(e),n=this.tree;try{for(this.tree=t||this.tree||["markdown"];r.length;){var i=this.processBlock(r.shift(),r);i.length&&this.tree.push.apply(this.tree,i)}return this.tree}finally{t&&(this.tree=n)}},d.prototype.debug=function(){var e=Array.prototype.slice.call(arguments);e.unshift(this.debug_indent),"undefined"!=typeof print&&print.apply(print,e),"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log.apply(null,e)},d.prototype.loop_re_over_block=function(e,t,r){for(var n,i=t.valueOf();i.length&&null!=(n=e.exec(i));)i=i.substr(n[0].length),r.call(this,n);return i},d.dialects={},d.dialects.Gruber={block:{atxHeader:function(e,t){var r=e.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(r){var n=["header",{level:r[1].length}];return Array.prototype.push.apply(n,this.processInline(r[2])),r[0].length<e.length&&t.unshift(g(e.substr(r[0].length),e.trailing,e.lineNumber+2)),[n]}},setextHeader:function(e,t){var r=e.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(r){var n="="===r[2]?1:2,i=["header",{level:n},r[1]];return r[0].length<e.length&&t.unshift(g(e.substr(r[0].length),e.trailing,e.lineNumber+2)),[i]}},code:function(e,t){var r=[],n=/^(?: {0,3}\t| {4})(.*)\n?/;if(e.match(n)){e:for(;;){var i=this.loop_re_over_block(n,e.valueOf(),function(e){r.push(e[1])});if(i.length){t.unshift(g(i,e.trailing));break e}if(!t.length)break e;if(!t[0].match(n))break e;r.push(e.trailing.replace(/[^\n]/g,"").substring(2)),e=t.shift()}return[["code_block",r.join("\n")]]}},horizRule:function(e,t){var r=e.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(r){var n=[["hr"]];return r[1]&&n.unshift.apply(n,this.processBlock(r[1],[])),r[3]&&t.unshift(g(r[3])),n}},lists:function(){function e(e){return new RegExp("(?:^("+s+"{0,"+e+"} {0,3})("+a+")\\s+)|(^"+s+"{0,"+(e-1)+"}[ ]{0,4})")}function t(e){return e.replace(/ {0,3}\t/g,"    ")}function r(e,t,r,n){if(t)return void e.push(["para"].concat(r));var i=e[e.length-1]instanceof Array&&"para"==e[e.length-1][0]?e[e.length-1]:e;n&&e.length>1&&r.unshift(n);for(var a=0;a<r.length;a++){var o=r[a],l="string"==typeof o;l&&i.length>1&&"string"==typeof i[i.length-1]?i[i.length-1]+=o:i.push(o)}}function n(e,t){for(var r=new RegExp("^("+s+"{"+e+"}.*?\\n?)*$"),n=new RegExp("^"+s+"{"+e+"}","gm"),i=[];t.length>0&&r.exec(t[0]);){var a=t.shift(),o=a.replace(n,"");i.push(g(o,a.trailing,a.lineNumber))}return i}function i(e,t,r){var n=e.list,i=n[n.length-1];if(!(i[1]instanceof Array&&"para"==i[1][0]))if(t+1==r.length)i.push(["para"].concat(i.splice(1,i.length-1)));else{var a=i.pop();i.push(["para"].concat(i.splice(1,i.length-1)),a)}}var a="[*+-]|\\d+\\.",o=/[*+-]/,l=new RegExp("^( {0,3})("+a+")[ \t]+"),s="(?: {0,3}\\t| {4})";return function(a,s){function c(e){var t=o.exec(e[2])?["bulletlist"]:["numberlist"];return h.push({list:t,indent:e[1]}),t}var u=a.match(l);if(u){for(var f,p,h=[],d=c(u),g=!1,y=[h[0].list];;){for(var m=a.split(/(?=\n)/),b="",_=0;_<m.length;_++){var w="",k=m[_].replace(/^\n/,function(e){return w=e,""}),E=e(h.length);if(u=k.match(E),void 0!==u[1]){b.length&&(r(f,g,this.processInline(b),w),g=!1,b=""),u[1]=t(u[1]);var x=Math.floor(u[1].length/4)+1;if(x>h.length)d=c(u),f.push(d),f=d[1]=["listitem"];else{var R=!1;for(p=0;p<h.length;p++)if(h[p].indent==u[1]){d=h[p].list,h.splice(p+1,h.length-(p+1)),R=!0;break}R||(x++,x<=h.length?(h.splice(x,h.length-x),d=h[x-1].list):(d=c(u),f.push(d))),f=["listitem"],d.push(f)}w=""}k.length>u[0].length&&(b+=w+k.substr(u[0].length))}b.length&&(r(f,g,this.processInline(b),w),g=!1,b="");var T=n(h.length,s);T.length>0&&(v(h,i,this),f.push.apply(f,this.toTree(T,[])));var O=s[0]&&s[0].valueOf()||"";if(!O.match(l)&&!O.match(/^ /))break;a=s.shift();var S=this.dialect.block.horizRule(a,s);if(S){y.push.apply(y,S);break}v(h,i,this),g=!0}return y}}}(),blockquote:function(e,t){if(e.match(/^>/m)){var r=[];if(">"!=e[0]){for(var n=e.split(/\n/),i=[],a=e.lineNumber;n.length&&">"!=n[0][0];)i.push(n.shift()),a++;var o=g(i.join("\n"),"\n",e.lineNumber);r.push.apply(r,this.processBlock(o,[])),e=g(n.join("\n"),e.trailing,a)}for(;t.length&&">"==t[0][0];){var l=t.shift();e=g(e+e.trailing+l,l.trailing,e.lineNumber)}var c=e.replace(/^> ?/gm,""),u=(this.tree,this.toTree(c,["blockquote"])),f=s(u);return f&&f.references&&(delete f.references,m(f)&&u.splice(1,1)),r.push(u),r}},referenceDefn:function(e,t){var r=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(e.match(r)){s(this.tree)||this.tree.splice(1,0,{});var n=s(this.tree);void 0===n.references&&(n.references={});var i=this.loop_re_over_block(r,e,function(e){e[2]&&"<"==e[2][0]&&">"==e[2][e[2].length-1]&&(e[2]=e[2].substring(1,e[2].length-1));var t=n.references[e[1].toLowerCase()]={href:e[2]};void 0!==e[4]?t.title=e[4]:void 0!==e[5]&&(t.title=e[5])});return i.length&&t.unshift(g(i,e.trailing)),[]}},para:function(e,t){return[["para"].concat(this.processInline(e))]}}},d.dialects.Gruber.inline={__oneElement__:function(e,t,r){var n,i;t=t||this.dialect.inline.__patterns__;var a=new RegExp("([\\s\\S]*?)("+(t.source||t)+")");if(n=a.exec(e),!n)return[e.length,e];if(n[1])return[n[1].length,n[1]];var i;return n[2]in this.dialect.inline&&(i=this.dialect.inline[n[2]].call(this,e.substr(n.index),n,r||[])),i=i||[n[2].length,n[2]]},__call__:function(e,t){function r(e){"string"==typeof e&&"string"==typeof i[i.length-1]?i[i.length-1]+=e:i.push(e)}for(var n,i=[];e.length>0;)n=this.dialect.inline.__oneElement__.call(this,e,t,i),e=e.substr(n.shift()),v(n,r);return i},"]":function(){},"}":function(){},__escape__:/^\\[\\`\*_{}\[\]()#\+.!\-]/,"\\":function(e){return this.dialect.inline.__escape__.exec(e)?[2,e.charAt(1)]:[1,"\\"]},"![":function(e){var t=e.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(t){t[2]&&"<"==t[2][0]&&">"==t[2][t[2].length-1]&&(t[2]=t[2].substring(1,t[2].length-1)),t[2]=this.dialect.inline.__call__.call(this,t[2],/\\/)[0];var r={alt:t[1],href:t[2]||""};return void 0!==t[4]&&(r.title=t[4]),[t[0].length,["img",r]]}return t=e.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/),t?[t[0].length,["img_ref",{alt:t[1],ref:t[2].toLowerCase(),original:t[0]}]]:[2,"!["]},"[":function e(t){var r=String(t),n=d.DialectHelpers.inline_until_char.call(this,t.substr(1),"]");if(!n)return[1,"["];var e,i,a=1+n[0],o=n[1];t=t.substr(a);var l=t.match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(l){var s=l[1];if(a+=l[0].length,s&&"<"==s[0]&&">"==s[s.length-1]&&(s=s.substring(1,s.length-1)),!l[3])for(var c=1,u=0;u<s.length;u++)switch(s[u]){case"(":c++;break;case")":0==--c&&(a-=s.length-u,s=s.substring(0,u))}return s=this.dialect.inline.__call__.call(this,s,/\\/)[0],i={href:s||""},void 0!==l[3]&&(i.title=l[3]),e=["link",i].concat(o),[a,e]}return l=t.match(/^\s*\[(.*?)\]/),l?(a+=l[0].length,i={ref:(l[1]||String(o)).toLowerCase(),original:r.substr(0,a)},e=["link_ref",i].concat(o),[a,e]):1==o.length&&"string"==typeof o[0]?(i={ref:o[0].toLowerCase(),original:r.substr(0,a)},e=["link_ref",i,o[0]],[a,e]):[1,"["]},"<":function(e){var t;return null!=(t=e.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?t[3]?[t[0].length,["link",{href:"mailto:"+t[3]},t[3]]]:"mailto"==t[2]?[t[0].length,["link",{href:t[1]},t[1].substr("mailto:".length)]]:[t[0].length,["link",{href:t[1]},t[1]]]:[1,"<"]},"`":function(e){var t=e.match(/(`+)(([\s\S]*?)\1)/);return t&&t[2]?[t[1].length+t[2].length,["inlinecode",t[3]]]:[1,"`"]},"  \n":function(e){return[3,["linebreak"]]}},d.dialects.Gruber.inline["**"]=o("strong","**"),d.dialects.Gruber.inline.__=o("strong","__"),d.dialects.Gruber.inline["*"]=o("em","*"),d.dialects.Gruber.inline._=o("em","_"),d.buildBlockOrder=function(e){var t=[];for(var r in e)"__order__"!=r&&"__call__"!=r&&t.push(r);e.__order__=t},d.buildInlinePatterns=function(e){var t=[];for(var r in e)if(!r.match(/^__.*__$/)){var n=r.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");t.push(1==r.length?n:"(?:"+n+")")}t=t.join("|"),e.__patterns__=t;var i=e.__call__;e.__call__=function(e,r){return void 0!=r?i.call(this,e,r):i.call(this,e,t)}},d.DialectHelpers={},d.DialectHelpers.inline_until_char=function(e,t){for(var r=0,n=[];;){if(e.charAt(r)==t)return r++,[r,n];if(r>=e.length)return null;var i=this.dialect.inline.__oneElement__.call(this,e.substr(r));r+=i[0],n.push.apply(n,i.slice(1))}},d.subclassDialect=function(e){function t(){}function r(){}return t.prototype=e.block,r.prototype=e.inline,{block:new t,inline:new r}},d.buildBlockOrder(d.dialects.Gruber.block),d.buildInlinePatterns(d.dialects.Gruber.inline),d.dialects.Maruku=d.subclassDialect(d.dialects.Gruber),d.dialects.Maruku.processMetaHash=function(e){for(var t=l(e),r={},n=0;n<t.length;++n)if(/^#/.test(t[n]))r.id=t[n].substring(1);else if(/^\./.test(t[n]))r.class?r.class=r.class+t[n].replace(/./," "):r.class=t[n].substring(1);else if(/\=/.test(t[n])){var i=t[n].split(/\=/);r[i[0]]=i[1]}return r},d.dialects.Maruku.block.document_meta=function(e,t){if(!(e.lineNumber>1)&&e.match(/^(?:\w+:.*\n)*\w+:.*$/)){s(this.tree)||this.tree.splice(1,0,{});var r=e.split(/\n/);for(p in r){var n=r[p].match(/(\w+):\s*(.*)$/),i=n[1].toLowerCase(),a=n[2];this.tree[1][i]=a}return[]}},d.dialects.Maruku.block.block_meta=function(e,t){var r=e.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(r){var n,i=this.dialect.processMetaHash(r[2]);if(""===r[1]){var o=this.tree[this.tree.length-1];if(n=s(o),"string"==typeof o)return;n||(n={},o.splice(1,0,n));for(a in i)n[a]=i[a];return[]}var l=e.replace(/\n.*$/,""),c=this.processBlock(l,[]);n=s(c[0]),n||(n={},c[0].splice(1,0,n));for(a in i)n[a]=i[a];return c}},d.dialects.Maruku.block.definition_list=function(e,t){var r,n,i=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,a=["dl"];
if(n=e.match(i)){for(var o=[e];t.length&&i.exec(t[0]);)o.push(t.shift());for(var l=0;l<o.length;++l){var n=o[l].match(i),s=n[1].replace(/\n$/,"").split(/\n/),c=n[2].split(/\n:\s+/);for(r=0;r<s.length;++r)a.push(["dt",s[r]]);for(r=0;r<c.length;++r)a.push(["dd"].concat(this.processInline(c[r].replace(/(\n)\s+/,"$1"))))}return[a]}},d.dialects.Maruku.block.table=function e(t,r){var n,i,a=function(e,t){t=t||"\\s",t.match(/^[\\|\[\]{}?*.+^$]$/)&&(t="\\"+t);for(var r,n=[],i=new RegExp("^((?:\\\\.|[^\\\\"+t+"])*)"+t+"(.*)");r=e.match(i);)n.push(r[1]),e=r[2];return n.push(e),n},o=/^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/,l=/^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/;if(i=t.match(o))i[3]=i[3].replace(/^\s*\|/gm,"");else if(!(i=t.match(l)))return;var e=["table",["thead",["tr"]],["tbody"]];i[2]=i[2].replace(/\|\s*$/,"").split("|");var s=[];for(v(i[2],function(e){e.match(/^\s*-+:\s*$/)?s.push({align:"right"}):e.match(/^\s*:-+\s*$/)?s.push({align:"left"}):e.match(/^\s*:-+:\s*$/)?s.push({align:"center"}):s.push({})}),i[1]=a(i[1].replace(/\|\s*$/,""),"|"),n=0;n<i[1].length;n++)e[1][1].push(["th",s[n]||{}].concat(this.processInline(i[1][n].trim())));return v(i[3].replace(/\|\s*$/gm,"").split("\n"),function(t){var r=["tr"];for(t=a(t,"|"),n=0;n<t.length;n++)r.push(["td",s[n]||{}].concat(this.processInline(t[n].trim())));e[2].push(r)},this),[e]},d.dialects.Maruku.inline["{:"]=function(e,t,r){if(!r.length)return[2,"{:"];var n=r[r.length-1];if("string"==typeof n)return[2,"{:"];var i=e.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!i)return[2,"{:"];var a=this.dialect.processMetaHash(i[1]),o=s(n);o||(o={},n.splice(1,0,o));for(var l in a)o[l]=a[l];return[i[0].length,""]},d.dialects.Maruku.inline.__escape__=/^\\[\\`\*_{}\[\]()#\+.!\-|:]/,d.buildBlockOrder(d.dialects.Maruku.block),d.buildInlinePatterns(d.dialects.Maruku.inline);var v,y=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)};v=Array.prototype.forEach?function(e,t,r){return e.forEach(t,r)}:function(e,t,r){for(var n=0;n<e.length;n++)t.call(r||e,e[n],n,e)};var m=function(e){for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0};e.renderJsonML=function(e,t){t=t||{},t.root=t.root||!1;var r=[];if(t.root)r.push(u(e));else for(e.shift(),!e.length||"object"!=typeof e[0]||e[0]instanceof Array||e.shift();e.length;)r.push(u(e.shift()));return r.join("\n\n")}}(function(){return t}())},121:function(e,t,r){(function(e,n){function i(e,r){var n={seen:[],stylize:o};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(r)?n.showHidden=r:r&&t._extend(n,r),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=a),s(n,e,n.depth)}function a(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function o(e,t){return e}function l(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function s(e,r,n){if(e.customInspect&&r&&T(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return b(i)||(i=s(e,i,n)),i}var a=c(e,r);if(a)return a;var o=Object.keys(r),g=l(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),R(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return u(r);if(0===o.length){if(T(r)){var v=r.name?": "+r.name:"";return e.stylize("[Function"+v+"]","special")}if(k(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(x(r))return e.stylize(Date.prototype.toString.call(r),"date");if(R(r))return u(r)}var y="",m=!1,_=["{","}"];if(d(r)&&(m=!0,_=["[","]"]),T(r)){var w=r.name?": "+r.name:"";y=" [Function"+w+"]"}if(k(r)&&(y=" "+RegExp.prototype.toString.call(r)),x(r)&&(y=" "+Date.prototype.toUTCString.call(r)),R(r)&&(y=" "+u(r)),0===o.length&&(!m||0==r.length))return _[0]+y+_[1];if(n<0)return k(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var E;return E=m?f(e,r,n,g,o):o.map(function(t){return p(e,r,n,g,t,m)}),e.seen.pop(),h(E,y,_)}function c(e,t){if(w(t))return e.stylize("undefined","undefined");if(b(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return m(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,i){for(var a=[],o=0,l=t.length;o<l;++o)M(t,String(o))?a.push(p(e,t,r,n,String(o),!0)):a.push("");return i.forEach(function(i){i.match(/^\d+$/)||a.push(p(e,t,r,n,i,!0))}),a}function p(e,t,r,n,i,a){var o,l,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?l=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(l=e.stylize("[Setter]","special")),M(n,i)||(o="["+i+"]"),l||(e.seen.indexOf(c.value)<0?(l=v(r)?s(e,c.value,null):s(e,c.value,r-1),l.indexOf("\n")>-1&&(l=a?l.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+l.split("\n").map(function(e){return"   "+e}).join("\n"))):l=e.stylize("[Circular]","special")),w(o)){if(a&&i.match(/^\d+$/))return l;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+l}function h(e,t,r){var n=0,i=e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function d(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function v(e){return null===e}function y(e){return null==e}function m(e){return"number"==typeof e}function b(e){return"string"==typeof e}function _(e){return"symbol"==typeof e}function w(e){return void 0===e}function k(e){return E(e)&&"[object RegExp]"===S(e)}function E(e){return"object"==typeof e&&null!==e}function x(e){return E(e)&&"[object Date]"===S(e)}function R(e){return E(e)&&("[object Error]"===S(e)||e instanceof Error)}function T(e){return"function"==typeof e}function O(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function S(e){return Object.prototype.toString.call(e)}function j(e){return e<10?"0"+e.toString(10):e.toString(10)}function I(){var e=new Date,t=[j(e.getHours()),j(e.getMinutes()),j(e.getSeconds())].join(":");return[e.getDate(),A[e.getMonth()],t].join(" ")}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var P=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(i(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,a=n.length,o=String(e).replace(P,function(e){if("%%"===e)return"%";if(r>=a)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),l=n[r];r<a;l=n[++r])o+=v(l)||!E(l)?" "+l:" "+i(l);return o},t.deprecate=function(r,i){function a(){if(!o){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),o=!0}return r.apply(this,arguments)}if(w(e.process))return function(){return t.deprecate(r,i).apply(this,arguments)};if(n.noDeprecation===!0)return r;var o=!1;return a};var N,D={};t.debuglog=function(e){if(w(N)&&(N=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!D[e])if(new RegExp("\\b"+e+"\\b","i").test(N)){var r=n.pid;D[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else D[e]=function(){};return D[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=g,t.isNull=v,t.isNullOrUndefined=y,t.isNumber=m,t.isString=b,t.isSymbol=_,t.isUndefined=w,t.isRegExp=k,t.isObject=E,t.isDate=x,t.isError=R,t.isFunction=T,t.isPrimitive=O,t.isBuffer=r(123);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",I(),t.format.apply(t,arguments))},t.inherits=r(124),t._extend=function(e,t){if(!t||!E(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(t,function(){return this}(),r(122))},123:function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},124:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}});